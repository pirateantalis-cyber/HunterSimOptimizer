const e=Symbol("Comlink.proxy"),t=Symbol("Comlink.endpoint"),r=Symbol("Comlink.releaseProxy"),n=Symbol("Comlink.finalizer"),s=Symbol("Comlink.thrown"),a=e=>"object"==typeof e&&null!==e||"function"==typeof e,i={canHandle:t=>a(t)&&t[e],serialize(e){const{port1:t,port2:r}=new MessageChannel;return c(e,t),[r,[r]]},deserialize:e=>(e.start(),function(e,t){const r=new Map;return e.addEventListener("message",(function(e){const{data:t}=e;if(!t||!t.id)return;const n=r.get(t.id);if(n)try{n(t)}finally{r.delete(t.id)}})),d(e,r,[],t)}(e))},o=new Map([["proxy",i],["throw",{canHandle:e=>a(e)&&s in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function c(t,r=globalThis,a=["*"]){r.addEventListener("message",(function i(o){if(!o||!o.data)return;if(!function(e,t){for(const r of e){if(t===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(t))return!0}return!1}(a,o.origin))return;const{id:l,type:p,path:g}=Object.assign({path:[]},o.data),f=(o.data.argumentList||[]).map(w);let d;try{const r=g.slice(0,-1).reduce(((e,t)=>e[t]),t),n=g.reduce(((e,t)=>e[t]),t);switch(p){case"GET":d=n;break;case"SET":r[g.slice(-1)[0]]=w(o.data.value),d=!0;break;case"APPLY":d=n.apply(r,f);break;case"CONSTRUCT":d=function(t){return Object.assign(t,{[e]:!0})}(new n(...f));break;case"ENDPOINT":{const{port1:e,port2:r}=new MessageChannel;c(t,r),d=function(e,t){return y.set(e,t),e}(e,[e])}break;case"RELEASE":d=void 0;break;default:return}}catch(m){d={value:m,[s]:0}}Promise.resolve(d).catch((e=>({value:e,[s]:0}))).then((e=>{const[s,a]=h(e);r.postMessage(Object.assign(Object.assign({},s),{id:l}),a),"RELEASE"===p&&(r.removeEventListener("message",i),u(r),n in t&&"function"==typeof t[n]&&t[n]())})).catch((e=>{const[t,n]=h({value:new TypeError("Unserializable return value"),[s]:0});r.postMessage(Object.assign(Object.assign({},t),{id:l}),n)}))})),r.start&&r.start()}function u(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function l(e){if(e)throw new Error("Proxy has been released and is not useable")}function p(e){return b(e,new Map,{type:"RELEASE"}).then((()=>{u(e)}))}const g=new WeakMap,f="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(g.get(e)||0)-1;g.set(e,t),0===t&&p(e)}));function d(e,n,s=[],a=function(){}){let i=!1;const o=new Proxy(a,{get(t,a){if(l(i),a===r)return()=>{!function(e){f&&f.unregister(e)}(o),p(e),n.clear(),i=!0};if("then"===a){if(0===s.length)return{then:()=>o};const t=b(e,n,{type:"GET",path:s.map((e=>e.toString()))}).then(w);return t.then.bind(t)}return d(e,n,[...s,a])},set(t,r,a){l(i);const[o,c]=h(a);return b(e,n,{type:"SET",path:[...s,r].map((e=>e.toString())),value:o},c).then(w)},apply(r,a,o){l(i);const c=s[s.length-1];if(c===t)return b(e,n,{type:"ENDPOINT"}).then(w);if("bind"===c)return d(e,n,s.slice(0,-1));const[u,p]=m(o);return b(e,n,{type:"APPLY",path:s.map((e=>e.toString())),argumentList:u},p).then(w)},construct(t,r){l(i);const[a,o]=m(r);return b(e,n,{type:"CONSTRUCT",path:s.map((e=>e.toString())),argumentList:a},o).then(w)}});return function(e,t){const r=(g.get(t)||0)+1;g.set(t,r),f&&f.register(e,t,e)}(o,e),o}function m(e){const t=e.map(h);return[t.map((e=>e[0])),(r=t.map((e=>e[1])),Array.prototype.concat.apply([],r))];var r}const y=new WeakMap;function h(e){for(const[t,r]of o)if(r.canHandle(e)){const[n,s]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},s]}return[{type:"RAW",value:e},y.get(e)||[]]}function w(e){switch(e.type){case"HANDLER":return o.get(e.name).deserialize(e.value);case"RAW":return e.value}}function b(e,t,r,n){return new Promise((s=>{const a=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.set(a,s),e.start&&e.start(),e.postMessage(Object.assign({id:a},r),n)}))}const v=()=>{throw Error("Operation requires compiling with --exportRuntime")},A="undefined"!=typeof BigUint64Array,$=Symbol(),_=new TextDecoder("utf-16le",{fatal:!0});function k(e,t){let r=new Uint32Array(e)[t+-4>>>2]>>>1;const n=new Uint16Array(e,t,r);if(r<=192)return String.fromCharCode(...n);try{return _.decode(n)}catch{let e="",t=0;for(;r-t>1024;)e+=String.fromCharCode(...n.subarray(t,t+=1024));return e+String.fromCharCode(...n.subarray(t))}}function S(e){const t={};function r(e,t){return e?k(e.buffer,t):"<yet unknown>"}const n=e.env=e.env||{};return n.abort=n.abort||function(e,s,a,i){const o=t.memory||n.memory;throw Error(`abort: ${r(o,e)} at ${r(o,s)}:${a}:${i}`)},n.trace=n.trace||function(e,r,...s){t.memory||n.memory},n.seed=n.seed||Date.now,e.Math=e.Math||Math,e.Date=e.Date||Date,t}function O(e,t){const r=t.exports,n=r.memory,s=r.table,a=r.__new||v,i=r.__pin||v,o=r.__unpin||v,c=r.__collect||v,u=r.__rtti_base,l=u?e=>e[u>>>2]:v;function p(e){const t=function(e){const t=new Uint32Array(n.buffer);if((e>>>=0)>=l(t))throw Error(`invalid id: ${e}`);return t[(u+4>>>2)+e]}(e);if(!(7&t))throw Error(`not an array: ${e}, flags=${t}`);return t}function g(e){return 31-Math.clz32(e>>>6&31)}function f(e,t,r){const s=n.buffer;if(r)switch(e){case 2:return new Float32Array(s);case 3:return new Float64Array(s)}else switch(e){case 0:return new(t?Int8Array:Uint8Array)(s);case 1:return new(t?Int16Array:Uint16Array)(s);case 2:return new(t?Int32Array:Uint32Array)(s);case 3:return new(t?BigInt64Array:BigUint64Array)(s)}throw Error(`unsupported align: ${e}`)}function d(e){const t=new Uint32Array(n.buffer),r=p(t[e+-8>>>2]),s=g(r);let a=4&r?e:t[e+4>>>2];const i=2&r?t[e+12>>>2]:t[a+-4>>>2]>>>s;return f(s,2048&r,4096&r).subarray(a>>>=s,a+i)}function m(e,t,r){return new e(y(e,t,r))}function y(e,t,r){const s=n.buffer,a=new Uint32Array(s);return new e(s,a[r+4>>>2],a[r+8>>>2]>>>t)}function h(t,r,n){e[`__get${r}`]=m.bind(null,t,n),e[`__get${r}View`]=y.bind(null,t,n)}return e.__new=a,e.__pin=i,e.__unpin=o,e.__collect=c,e.__newString=function(e){if(null==e)return 0;const t=e.length,r=a(t<<1,2),s=new Uint16Array(n.buffer);for(let n=0,a=r>>>1;n<t;++n)s[a+n]=e.charCodeAt(n);return r},e.__newArrayBuffer=function(e){if(null==e)return 0;const t=new Uint8Array(e),r=a(t.length,1);return new Uint8Array(n.buffer).set(t,r),r},e.__getString=function(e){if(!e)return null;const t=n.buffer;if(2!==new Uint32Array(t)[e+-8>>>2])throw Error(`not a string: ${e}`);return k(t,e)},e.__newArray=function(e,t=0){const r=t,s=p(e),c=g(s),u="number"!=typeof r,l=u?r.length:r,d=a(l<<c,4&s?e:1);let m;if(4&s)m=d;else{i(d);const t=a(2&s?16:12,e);o(d);const r=new Uint32Array(n.buffer);r[t+0>>>2]=d,r[t+4>>>2]=d,r[t+8>>>2]=l<<c,2&s&&(r[t+12>>>2]=l),m=t}if(u){const e=f(c,2048&s,4096&s),t=d>>>c;if(16384&s)for(let n=0;n<l;++n)e[t+n]=r[n];else e.set(r,t)}return m},e.__getArrayView=d,e.__getArray=function(e){const t=d(e),r=t.length,n=new Array(r);for(let s=0;s<r;s++)n[s]=t[s];return n},e.__getArrayBuffer=function(e){const t=n.buffer,r=new Uint32Array(t)[e+-4>>>2];return t.slice(e,e+r)},e.__getFunction=function(e){if(!s)throw Error("Operation requires compiling with --exportTable");const t=new Uint32Array(n.buffer)[e>>>2];return s.get(t)},[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].forEach((e=>{h(e,e.name,31-Math.clz32(e.BYTES_PER_ELEMENT))})),A&&[BigUint64Array,BigInt64Array].forEach((e=>{h(e,e.name.slice(3),3)})),e.memory=e.memory||n,e.table=e.table||s,function(e,t={}){const r=e.__argumentsLength?t=>{e.__argumentsLength.value=t}:e.__setArgumentsLength||e.__setargc||(()=>{});for(let n of Object.keys(e)){const s=e[n];let a=n.split("."),i=t;for(;a.length>1;){let e=a.shift();Object.hasOwn(i,e)||(i[e]={}),i=i[e]}let o=a[0],c=o.indexOf("#");if(c>=0){const t=o.substring(0,c),a=i[t];if(void 0===a||!a.prototype){const e=function(...t){return e.wrap(e.prototype.constructor(0,...t))};e.prototype={valueOf(){return this[$]}},e.wrap=function(t){return Object.create(e.prototype,{[$]:{value:t,writable:!1}})},a&&Object.getOwnPropertyNames(a).forEach((t=>Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t)))),i[t]=e}if(o=o.substring(c+1),i=i[t].prototype,/^(get|set):/.test(o)){if(!Object.hasOwn(i,o=o.substring(4))){let t=e[n.replace("set:","get:")],r=e[n.replace("get:","set:")];Object.defineProperty(i,o,{get(){return t(this[$])},set(e){r(this[$],e)},enumerable:!0})}}else"constructor"===o?(i[o]=function(...e){return r(e.length),s(...e)}).original=s:(i[o]=function(...e){return r(e.length),s(this[$],...e)}).original=s}else/^(get|set):/.test(o)?Object.hasOwn(i,o=o.substring(4))||Object.defineProperty(i,o,{get:e[n.replace("set:","get:")],set:e[n.replace("get:","set:")],enumerable:!0}):"function"==typeof s&&s!==r?(i[o]=(...e)=>(r(e.length),s(...e))).original=s:i[o]=s}return t}(r,e)}function E(e){return"undefined"!=typeof Response&&e instanceof Response}async function U(e,t={}){if(E(e=await e))return async function(e,t={}){if(!WebAssembly.instantiateStreaming)return U(E(e=await e)?e.arrayBuffer():e,t);const r=S(t),n=await WebAssembly.instantiateStreaming(e,t),s=O(r,n.instance);return{...n,exports:s}}(e,t);const r=e instanceof WebAssembly.Module?e:await WebAssembly.compile(e);const n=S(t),s=await WebAssembly.instantiate(r,t);return{module:r,instance:s,exports:O(n,s)}}Object.hasOwn=Object.hasOwn||function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};let x=null,j=!1;let R=null,T=!1;let P=null,z=!1;let M={borge:async function(...e){try{const r=await async function(){if(j&&x)return x;try{const e="/wasm/release.wasm?v=1751486407521";return x=await U(fetch(e),{env:{abort:(e,t,r,n)=>{}}}),j=!0,x}catch(e){throw e}}(),n={lootPerMin:r.exports.EVALBORGE_WASM(...e),avgStage:r.exports.getLastAvgStage(),avgTime:r.exports.getLastAvgTime(),minStage:r.exports.getLastMinStage(),maxStage:r.exports.getLastMaxStage(),bossHpPercent:r.exports.getLastBossHpPercent(),bossKillRate:r.exports.getLastBossKillRate(),mat1:r.exports.getLastMat1(),mat2:r.exports.getLastMat2(),mat3:r.exports.getLastMat3(),xp:r.exports.getLastXp(),stats:"",progress:"{}",deathTracking:"{}"};try{if(r.exports.getLastBorgeMaxHp){const e=r.exports.getLastBorgeMaxHp(),t=r.exports.getLastBorgeAtk(),s=r.exports.getLastBorgeRegen(),a=r.exports.getLastBorgeDr(),i=r.exports.getLastBorgeEvade(),o=r.exports.getLastBorgeEffect(),c=r.exports.getLastBorgeCritRate(),u=r.exports.getLastBorgeCritPower(),l=r.exports.getLastBorgeReload();n.stats=`${e},${t},${s},${a},${i},${o},${c},${u},${l}`}}catch(t){}try{if(r.exports.getProgressSize){const e=r.exports.getProgressSize();if(e>0&&r.exports.getProgressStageAt&&r.exports.getProgressCountAt){let t={};for(let n=0;n<e;n++){const e=r.exports.getProgressStageAt(n),s=r.exports.getProgressCountAt(n);e>=0&&(t[e]=s)}n.progress=JSON.stringify(t)}}}catch(t){}try{if(r.exports.getDeathsByStageAndReviveSize){const e=r.exports.getDeathsByStageAndReviveSize();if(e>0&&r.exports.getDeathKeyAt&&r.exports.getDeathCountAt){let t=[];for(let n=0;n<e;n++){const e=r.exports.getDeathKeyAt(n),s=r.exports.getDeathCountAt(n);if(e>=0){const r=Math.floor(e/1e3),n=`${r}_${e%1e3}`;t.push({stage:n,count:s})}}n.deathTracking=t}else n.deathTracking=[]}else n.deathTracking=[]}catch(t){n.deathTracking=[]}return[[n.lootPerMin,n.avgStage,n.avgTime,n.minStage,n.maxStage,n.bossHpPercent,n.bossKillRate,n.mat1,n.mat2,n.mat3,n.xp,n.stats,n.progress,n.deathTracking]]}catch(r){throw r}},ozzy:async function(...e){try{const r=await async function(){if(T&&R)return R;try{const e="/wasm/release.wasm?v=1751486407521";return R=await U(fetch(e),{env:{abort:(e,t,r,n)=>{}}}),T=!0,R}catch(e){throw e}}(),n={lootPerMin:r.exports.EVALOZZY_WASM(...e),avgStage:r.exports.getLastOzzyAvgStage(),avgTime:r.exports.getLastOzzyAvgTime(),minStage:r.exports.getLastOzzyMinStage(),maxStage:r.exports.getLastOzzyMaxStage(),bossHpPercent:r.exports.getLastOzzyBossHpPercent(),bossKillRate:r.exports.getLastOzzyBossKillRate(),mat1:r.exports.getLastOzzyMat1(),mat2:r.exports.getLastOzzyMat2(),mat3:r.exports.getLastOzzyMat3(),xp:r.exports.getLastOzzyXp(),stats:"",progress:"{}",deathTracking:"{}"};try{if(r.exports.getLastOzzyMaxHp){const e=r.exports.getLastOzzyMaxHp(),t=r.exports.getLastOzzyAtk(),s=r.exports.getLastOzzyRegen(),a=r.exports.getLastOzzyDr(),i=r.exports.getLastOzzyEvade(),o=r.exports.getLastOzzyEffect(),c=r.exports.getLastOzzyMultistrike(),u=r.exports.getLastOzzyMultistrikePower(),l=r.exports.getLastOzzyReload();n.stats=`${e},${t},${s},${a},${i},${o},${c},${u},${l}`}}catch(t){}try{if(r.exports.getOzzyProgressSize){const e=r.exports.getOzzyProgressSize();if(e>0&&r.exports.getOzzyProgressStageAt&&r.exports.getOzzyProgressCountAt){let t={};for(let n=0;n<e;n++){const e=r.exports.getOzzyProgressStageAt(n),s=r.exports.getOzzyProgressCountAt(n);e>=0&&(t[e]=s)}n.progress=JSON.stringify(t)}}}catch(t){}try{if(r.exports.getOzzyDeathsByStageAndReviveSize){const e=r.exports.getOzzyDeathsByStageAndReviveSize();if(e>0&&r.exports.getOzzyDeathKeyAt&&r.exports.getOzzyDeathCountAt){let t=[];for(let n=0;n<e;n++){const e=r.exports.getOzzyDeathKeyAt(n),s=r.exports.getOzzyDeathCountAt(n);if(e>=0){const r=Math.floor(e/1e3),n=`${r}_${e%1e3}`;t.push({stage:n,count:s})}}n.deathTracking=t}else n.deathTracking=[]}else n.deathTracking=[]}catch(t){n.deathTracking=[]}try{if(r.exports.getOzzyBossKillsByReviveSize){const e=r.exports.getOzzyBossKillsByReviveSize();if(e>0){let t=[];for(let n=0;n<e;n++){const e=r.exports.getOzzyBossRemainingReviveAt(n),s=r.exports.getOzzyBossKillCountAt(n),a=r.exports.getOzzyBossAttemptCountAt(n),i=r.exports.getLastOzzyMaxStage?r.exports.getLastOzzyMaxStage(n):0;e>=0&&a>0&&t.push({revive:e,kills:s,attempts:a,killRate:(s/a*100).toFixed(1),finalStage:i})}n.bossKillsByRevive=t}else n.bossKillsByRevive=[]}else n.bossKillsByRevive=[]}catch(t){n.bossKillsByRevive=[]}return[[n.lootPerMin,n.avgStage,n.avgTime,n.minStage,n.maxStage,n.bossHpPercent,n.bossKillRate,n.mat1,n.mat2,n.mat3,n.xp,n.stats,n.progress,n.deathTracking,n.bossKillsByRevive]]}catch(r){throw r}},knox:async function(...e){try{const r=await async function(){if(z&&P)return P;try{const e="/wasm/release.wasm?v=1751486407521";return P=await U(fetch(e),{env:{abort:(e,t,r,n)=>{}}}),z=!0,P}catch(e){throw e}}(),n={lootPerMin:r.exports.EVALKNOX_WASM(...e),avgStage:r.exports.getLastKnoxAvgStage(),avgTime:r.exports.getLastKnoxAvgTime(),minStage:r.exports.getLastKnoxMinStage(),maxStage:r.exports.getLastKnoxMaxStage(),bossHpPercent:r.exports.getLastKnoxBossHpPercent(),bossKillRate:r.exports.getLastKnoxBossKillRate(),mat1:r.exports.getLastKnoxMat1(),mat2:r.exports.getLastKnoxMat2(),mat3:r.exports.getLastKnoxMat3(),xp:r.exports.getLastKnoxXp(),stats:"",progress:"{}",deathTracking:"{}"};try{if(r.exports.getLastKnoxMaxHp){const e=r.exports.getLastKnoxMaxHp(),t=r.exports.getLastKnoxAtk(),s=r.exports.getLastKnoxRegen(),a=r.exports.getLastKnoxDr(),i=r.exports.getLastKnoxBlock(),o=r.exports.getLastKnoxEffect(),c=r.exports.getLastKnoxCharge(),u=r.exports.getLastKnoxChargeGain(),l=r.exports.getLastKnoxReload(),p=r.exports.getLastKnoxSc();n.stats=`${e},${t},${s},${a},${i},${o},${c},${u},${l},${p}`}}catch(t){}try{if(r.exports.getKnoxProgressSize){const e=r.exports.getKnoxProgressSize();if(e>0&&r.exports.getKnoxProgressStageAt&&r.exports.getKnoxProgressCountAt){let t={};for(let n=0;n<e;n++){const e=r.exports.getKnoxProgressStageAt(n),s=r.exports.getKnoxProgressCountAt(n);e>=0&&(t[e]=s)}n.progress=JSON.stringify(t)}}}catch(t){}try{if(r.exports.getKnoxDeathsByStageAndReviveSize){const e=r.exports.getKnoxDeathsByStageAndReviveSize();if(e>0&&r.exports.getKnoxDeathKeyAt&&r.exports.getKnoxDeathCountAt){let t=[];for(let n=0;n<e;n++){const e=r.exports.getKnoxDeathKeyAt(n),s=r.exports.getKnoxDeathCountAt(n);if(e>=0){const r=Math.floor(e/1e3),n=`${r}_${e%1e3}`;t.push({stage:n,count:s})}}n.deathTracking=t}else n.deathTracking=[]}else n.deathTracking=[]}catch(t){n.deathTracking=[]}return[[n.lootPerMin,n.avgStage,n.avgTime,n.minStage,n.maxStage,n.bossHpPercent,n.bossKillRate,n.mat1,n.mat2,n.mat3,n.xp,n.stats,n.progress,n.deathTracking]]}catch(r){throw r}}};const N={borge:["lvl","stage","hp","atk","regen","dr","evade","effect","critchance","critpower","atkspeed","revival","loth","ua","impeccable","omen","ll","pog","ultima","tfow","ares","ylith","spartan","timeless","battle","athena","baal","sensors","atlas","mino","htb","exp","weak","hermes","lfin","upgrades.gadgets.wrench","upgrades.iap.travpack","upgrades.diamondspecials.hunterloot","upgrades.ultima.ulti","upgrades.diamondspecials.reviveboost","upgrades.loopmods.trample","upgrades.loopmods.scavenger","upgrades.shardmilestones.m0","upgrades.relics.r4","upgrades.relics.r7","upgrades.relics.r16","upgrades.relics.r19","upgrades.inscryptions.i3","upgrades.inscryptions.i4","upgrades.inscryptions.i11","upgrades.inscryptions.i13","upgrades.inscryptions.i14","upgrades.inscryptions.i23","upgrades.inscryptions.i24","upgrades.inscryptions.i27","upgrades.inscryptions.i44","upgrades.inscryptions.i60","upgrades.inscryptions.i80","upgrades.inscryptions.i84","upgrades.inscryptions.i87","upgrades.inscryptions.i88","upgrades.inscryptions.i89","upgrades.inscryptions.i91","upgrades.gems_nodes.creation_gem1","upgrades.gems_nodes.creation_gem2","upgrades.gems_nodes.creation_gem3","upgrades.gems_nodes.innovation_gem3","upgrades.gems_nodes.attraction_gem2","upgrades.gems_nodes.attraction_gem3","upgrades.gems.attraction","upgrades.gems_nodes.attraction_catchUp","upgrades.gems_nodes.attraction_lootBorge","upgrades.diamondcards.gaiden","upgrades.researches.res81","iterations","upgrades.cms.cm46","upgrades.cms.cm47","upgrades.cms.cm48","upgrades.cms.cm51","upgrades.gems_nodes.creation_borgeGU"],ozzy:["lvl","stage","hp","atk","regen","dr","evade","effect","multichance","multipower","atkspeed","revival","boon","ua","needles","omen","ll","crip","ultima","echo","lotl","exo","scorp","dance","cat","timeless","ibu","exterm","medusa","scarab","vect","snek","cycle","deal","sisters","upgrades.gadgets.zaptron","upgrades.iap.travpack","upgrades.diamondspecials.hunterloot","upgrades.ultima.ulti","upgrades.diamondspecials.reviveboost","upgrades.loopmods.scavenger2","upgrades.shardmilestones.m0","upgrades.relics.r4","upgrades.relics.r7","upgrades.relics.r17","upgrades.inscryptions.i31","upgrades.inscryptions.i32","upgrades.inscryptions.i33","upgrades.inscryptions.i36","upgrades.inscryptions.i37","upgrades.inscryptions.i40","upgrades.inscryptions.i81","upgrades.inscryptions.i86","upgrades.inscryptions.i92","upgrades.gems_nodes.innovation_gem2","upgrades.gems_nodes.innovation_gem3","upgrades.gems_nodes.attraction_gem3","upgrades.gems.attraction","upgrades.gems_nodes.attraction_catchUp","upgrades.gems_nodes.attraction_lootOzzy","upgrades.diamondcards.iridian","upgrades.researches.res81","iterations","upgrades.cms.cm46","upgrades.cms.cm47","upgrades.cms.cm48","upgrades.cms.cm51","upgrades.gems_nodes.creation_ozzyGU"],knox:["lvl","stage","hp","atk","regen","dr","block","effect","charge","chargeGain","reload","proj","revival","calyp","ua","ghost","omen","ll","pog","finish","kraken","soul","dead","sear","pl","time","kot","pct","spa","fe","sop","upgrades.gadgets.anchor","iterations","upgrades.iap.travpack","upgrades.diamondspecials.hunterloot","upgrades.ultima.ulti","glac","quartz","tess","upgrades.diamondspecials.reviveboost","respec","bossLootRate","iterative","glacRate1","quartzRate1","tessRate1","xpRate1","hp1","atk1","regen1","dr1","block1","effect1","charge1","chargeGain1","reload1","proj1","gadget1","lvl1","time1","upgrades.researches.res81","upgrades.cms.cm46","upgrades.cms.cm47","upgrades.cms.cm48","upgrades.cms.cm51","upgrades.gems_nodes.creation_knoxGU"]};c({evaluate:async function(e,t,r){const n=M[e],s=N[e];if(!n)throw new Error(`Eval-Funktion für ${e} nicht gefunden`);if(!s)throw new Error(`Parameter-Konfiguration für ${e} nicht gefunden`);const a=s.map(((n,s)=>{const a=function(e,t,r,n){if("useSeeded"===n){const r=e.hunterSeedSettings?.[t];return!1!==r}if(r?.overrides&&n in r.overrides)return"upgrades.diamondspecials.hunterloot"===n?1+.025*(r.overrides[n]||0):"upgrades.diamondspecials.reviveboost"===n?3*(r.overrides[n]||0):r.overrides[n];if("iterations"===n)return e.hunterIterations?.[t]||1e3;if("lvl"===n)return r.level||0;if("stage"===n||"maxStage"===n)return e.hunterStats?.[t]?.stage||0;if(r?.talents&&n in r.talents)return r.talents[n];if(r?.attributes&&n in r.attributes)return r.attributes[n];if(e.hunterStats?.[t]&&n in e.hunterStats[t])return e.hunterStats[t][n];if(n.startsWith("upgrades.")){const t=n.split(".");let r;if(3===t.length){const[n,s,a]=t;if("diamondspecials"===s&&"hunterloot"===a)return 1+.025*(e.upgrades?.[s]?.[a]||0);if("diamondspecials"===s&&"reviveboost"===a)return 3*(e.upgrades?.[s]?.[a]||0);if(r=e.upgrades?.[s]?.[a],void 0===r&&("relics"===s&&a.startsWith("r")&&(r=e.upgrades?.relics?.[a.substring(1)]),"inscryptions"===s&&a.startsWith("i")&&(r=e.upgrades?.inscryptions?.[a.substring(1)],void 0===r&&(r=e.upgrades?.inscryptions?.[`inscryp${a.substring(1)}`])),"gems_nodes"===s)){const t=a.split("_");2===t.length&&(r=e.upgrades?.gems?.[t[0]]?.nodes?.[t[1]])}return r||0}if(4===t.length){const[r,n,s,a]=t;return e.upgrades?.[n]?.[s]?.[a]||0}}return 0}(r,e,t,n);return a}));s.indexOf("iterations"),["ll","pog","omen","fow","ultimaTalent","scavengers"].forEach((e=>{s.indexOf(e)})),a.length,s.length;try{performance.now();let s;s=await n(...a);performance.now();s&&s.length>0&&s[0];const i=function(e,t,r,n){if(!e||!e.length||!e[0])return{};const s=e[0],a={lootPerMin:s[0],avgStage:s[1],avgTime:s[2],minStage:s[3],maxStage:s[4],bossHpPercent:s[5],bossKillRate:s[6],mat1:s[7],mat2:s[8],mat3:s[9],xp:s[10],stats:s[11]};let i=[];try{const e=s[12];if("string"==typeof e&&e.startsWith("{")){const t=JSON.parse(e);i=Object.entries(t).map((([e,t])=>({stage:parseInt(e),count:t,percentage:t/(a.iterations||1e3)*100}))).sort(((e,t)=>e.stage-t.stage)),a.stageDistribution=i}}catch(u){a.stageDistribution=[]}let o=[];try{const e=s[13];if(Array.isArray(e))o=e.map((e=>({stage:e.stage,count:e.count,percentage:e.count/(a.iterations||1e3)*100})));else if("string"==typeof e&&e.startsWith("{")){const t=JSON.parse(e);o=Object.entries(t).map((([e,t])=>({stage:e,count:t,percentage:t/(a.iterations||1e3)*100})))}o.sort(((e,t)=>{const[r,n]=e.stage.split("_").map(Number),[s,a]=t.stage.split("_").map(Number);return r-s||n-a})),a.deathDistribution=o}catch(u){a.deathDistribution=[]}let c=[];try{const e=s[14];Array.isArray(e)&&(c=e,a.bossKillsByRevive=c,r?.id&&c.length>0&&self.postMessage({type:"CACHE_BOSS_KILLS",data:{hunterId:t,buildId:r.id,bossKillData:c,sampleSize:n||1e3}}))}catch(u){a.bossKillsByRevive=[]}return a}(s,e,t,r.hunterIterations?.[e]||1e3);return i}catch(i){throw i}}});
